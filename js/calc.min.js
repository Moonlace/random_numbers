for(var d=document.querySelectorAll("#calculator span"),f=["+","-","x","\u00f7"],g=!1,h=0;h<d.length;h++)d[h].onclick=function(k){var b=document.querySelector(".screen"),a=b.innerHTML,c=this.innerHTML;if("C"==c)b.innerHTML="",g=!1;else if("="==c){var e=a[a.length-1],a=a.replace(/x/g,"*").replace(/\u00f7/g,"/");if(-1<f.indexOf(e)||"."==e)a=a.replace(/.$/,"");a&&(b.innerHTML=eval(a));g=!1}else-1<f.indexOf(c)?(e=a[a.length-1],""!=a&&-1==f.indexOf(e)?b.innerHTML+=c:""==a&&"-"==c&&(b.innerHTML+=c),-1<
f.indexOf(e)&&1<a.length&&(b.innerHTML=a.replace(/.$/,c)),g=!1):"."==c?g||(b.innerHTML+=c,g=!0):b.innerHTML+=c;k.preventDefault()};